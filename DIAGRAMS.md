# Awale Game - Architecture Diagrams

## ğŸ“ System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         AWALE GAME SYSTEM                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  â”‚                            â”‚                  â”‚
â”‚     CLIENT       â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€ Network â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚     SERVER       â”‚
â”‚                  â”‚        (TCP/IP)            â”‚                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                                â”‚
        â”‚                                                â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚          â”‚                                    â”‚          â”‚
   â”‚    UI    â”‚                                    â”‚  Game    â”‚
   â”‚  Module  â”‚                                    â”‚ Manager  â”‚
   â”‚          â”‚                                    â”‚          â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                                                â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”                                    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Commands â”‚                                    â”‚  Match   â”‚
   â”‚  Handler â”‚                                    â”‚  Making  â”‚
   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                                    â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
        â”‚                                                â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                        â”‚
           â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
           â”‚  Network   â”‚          â”‚   Game     â”‚
           â”‚   Layer    â”‚          â”‚   Logic    â”‚
           â”‚            â”‚          â”‚            â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤          â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚ Session    â”‚          â”‚   Board    â”‚
           â”‚ Connection â”‚          â”‚   Rules    â”‚
           â”‚ Serialize  â”‚          â”‚   Player   â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”„ Module Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DEPENDENCY LAYERS                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Layer 0: Foundation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  COMMON MODULE                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚  types  â”‚  â”‚ protocol â”‚  â”‚ messages â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–²                          â–²
           â”‚                          â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                          â”‚

Layer 1: Core Logic & Network Primitives
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GAME MODULE       â”‚      â”‚   NETWORK MODULE    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  board  â”‚        â”‚      â”‚  â”‚ connection  â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚  rules  â”‚        â”‚      â”‚  â”‚   session   â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ player  â”‚        â”‚      â”‚  â”‚ serializer  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â–²                          â–²
           â”‚                          â”‚
           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
           â”‚                          â”‚

Layer 2: Application Logic
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SERVER MODULE      â”‚      â”‚  CLIENT MODULE      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚      â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ game_manager â”‚   â”‚      â”‚  â”‚     main     â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ matchmaking  â”‚   â”‚      â”‚  â”‚      ui      â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚      â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚    storage   â”‚   â”‚      â”‚  â”‚   commands   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¨ Message Flow

### Connect & Authenticate
```
Client                                    Server
  â”‚                                         â”‚
  â”œâ”€â”€â”€â”€ MSG_CONNECT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º   â”‚
  â”‚     {pseudo, version}                   â”‚
  â”‚                                         â”œâ”€â”€â”€ Validate
  â”‚                                         â”œâ”€â”€â”€ Add to registry
  â”‚  â—„â”€â”€â”€â”€ MSG_CONNECT_ACK â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚        {success, session_id}            â”‚
  â”‚                                         â”‚
```

### List Players
```
Client                                    Server
  â”‚                                         â”‚
  â”œâ”€â”€â”€â”€ MSG_LIST_PLAYERS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚
  â”‚                                         â”œâ”€â”€â”€ Query registry
  â”‚ â—„â”€â”€â”€â”€â”€ MSG_PLAYER_LIST â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚        {count, players[]}               â”‚
  â”‚                                         â”‚
```

### Challenge & Match
```
Alice                  Server                  Bob
  â”‚                      â”‚                      â”‚
  â”œâ”€ MSG_CHALLENGE â”€â”€â”€â”€â–º â”‚                      â”‚
  â”‚  {challenger: A,     â”‚                      â”‚
  â”‚   opponent: B}       â”œâ”€ Store challenge     â”‚
  â”‚                      â”‚                      â”‚
  â”‚                      â”‚ â—„â”€ MSG_CHALLENGE â”€â”€â”€â”€â”¤
  â”‚                      â”‚    {challenger: B,   â”‚
  â”‚                      â”‚     opponent: A}     â”‚
  â”‚                      â”œâ”€ Detect mutual!      â”‚
  â”‚                      â”œâ”€ Create game         â”‚
  â”‚                      â”‚                      â”‚
  â”‚ â—„â”€ MSG_GAME_STARTED â”€â”¤â”€ MSG_GAME_STARTED â”€â–º â”‚
  â”‚  {game_id,           â”‚  {game_id,           â”‚
  â”‚   your_side: A}      â”‚   your_side: B}      â”‚
  â”‚                      â”‚                      â”‚
```

### Play Move
```
Client                                    Server
  â”‚                                         â”‚
  â”œâ”€â”€â”€â”€ MSG_PLAY_MOVE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
  â”‚     {game_id, player, pit}              â”‚
  â”‚                                         â”œâ”€â”€â”€ Find game
  â”‚                                         â”œâ”€â”€â”€ Validate move
  â”‚                                         â”‚    â”œâ”€ Is your turn?
  â”‚                                         â”‚    â”œâ”€ Valid pit?
  â”‚                                         â”‚    â”œâ”€ Feeding rule?
  â”‚                                         â”‚    â””â”€ Execute
  â”‚                                         â”œâ”€â”€â”€ Sow seeds
  â”‚                                         â”œâ”€â”€â”€ Capture
  â”‚                                         â”œâ”€â”€â”€ Check win
  â”‚  â—„â”€â”€â”€â”€ MSG_MOVE_RESULT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚        {success, captured,              â”‚
  â”‚         game_over, winner}              â”‚
  â”‚                                         â”‚
```

### Get Board State
```
Client                                    Server
  â”‚                                         â”‚
  â”œâ”€â”€â”€â”€ MSG_GET_BOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚
  â”‚     {game_id}                           â”‚
  â”‚                                         â”œâ”€â”€â”€ Find game
  â”‚                                         â”œâ”€â”€â”€ Copy board
  â”‚  â—„â”€â”€â”€â”€ MSG_BOARD_STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚        {exists, pits[], scores[],       â”‚
  â”‚         current_player, state, winner}  â”‚
  â”‚                                         â”‚
```

## ğŸ® Game State Machine

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   WAITING    â”‚
                    â”‚  (No games)  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    Mutual Challenge
                            â”‚
                            â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”Œâ”€â”€â”€â”€â”€â”¤ IN_PROGRESS  â”‚â—„â”€â”€â”€â”€â”€â”
              â”‚     â”‚              â”‚      â”‚
              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜      â”‚
              â”‚             â”‚             â”‚
              â”‚      Valid Move           â”‚
              â”‚             â”‚          Board Not
              â”‚             â–¼           Game Over
              â”‚        Execute Move       â”‚
              â”‚             â”‚             â”‚
              â”‚        Sow Seeds          â”‚
              â”‚             â”‚             â”‚
              â”‚        Capture?           â”‚
              â”‚             â”‚             â”‚
              â”‚        Check Win          â”‚
              â”‚             â”‚             â”‚
              â”‚             â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚             â”‚
              â”‚      Score >= 25 OR
              â”‚      Both Sides Empty
              â”‚             â”‚
              â”‚             â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚     â”‚   FINISHED   â”‚
              â”‚     â”‚              â”‚
              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚             â”‚
              â”‚       Determine
              â”‚        Winner
              â”‚             â”‚
              â”‚             â–¼
              â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â””â”€â”€â”€â”€â–ºâ”‚  WINNER_A    â”‚
                    â”‚  WINNER_B    â”‚
                    â”‚    DRAW      â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”’ Thread Safety Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              GAME MANAGER (Thread-Safe)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  Global Lock: manager->lock                             â”‚
â”‚    â””â”€ Protects: game_count, games[] array               â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚   Game 1     â”‚   â”‚   Game 2     â”‚   â”‚  Game N  â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚  
â”‚  â”‚ Lock: game   â”‚   â”‚ Lock: game   â”‚   â”‚Lock: gameâ”‚     â”‚
â”‚  â”‚  -> lock     â”‚   â”‚  -> lock     â”‚   â”‚ -> lock  â”‚     â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”‚
â”‚  â”‚ Alice vs Bob â”‚   â”‚ Carol vs Dan â”‚   â”‚ ...      â”‚     â”‚
â”‚  â”‚              â”‚   â”‚              â”‚   â”‚          â”‚     â”‚
â”‚  â”‚ Board State  â”‚   â”‚ Board State  â”‚   â”‚Board St. â”‚     â”‚ 
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Thread 1 (Alice's move)      Thread 2 (Bob's move)
      â”‚                             â”‚
      â”œâ”€ Lock game->lock            â”œâ”€ Lock game->lock
      â”‚                             â”‚  (blocks, waits)
      â”œâ”€ Execute move               â”‚
      â”œâ”€ Update board               â”‚
      â”œâ”€ Unlock game->lock          â”‚
      â”‚                             â”œâ”€ (acquires lock)
      â”‚                             â”œâ”€ Execute move
      â”‚                             â”œâ”€ Unlock
      â–¼                             â–¼

= No race conditions, concurrent games work!
```

## ğŸ“¦ Build Process Flow

```
Source Files                Compilation              Binaries
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€               â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€â”€â”€â”€â”€â”€

src/common/*.c â”€â”
src/game/*.c   â”€â”¤
src/network/*.câ”€â”¼â”€â”€â–º [gcc -c] â”€â”€â–º build/**/*.o â”€â”€â”
                â”‚                                â”‚
src/server/*.c â”€â”¤                                â”œâ”€â–º [gcc -o] â”€â”€â–º build/awale_server
                â”‚                                â”‚
                â”‚                                â”‚
src/client/*.c â”€â”˜                                â””â”€â–º [gcc -o] â”€â”€â–º build/awale_client

Include Files
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
include/common/*.h â”€â”
include/game/*.h   â”€â”¤
include/network/*.hâ”€â”¼â”€â”€â–º [-I./include]
include/server/*.h â”€â”˜
```

---

## ğŸ¯ Key Design Patterns Used

1. **Layered Architecture**: Clear separation between layers
2. **Module Pattern**: Each module has .h and .c files
3. **Factory Pattern**: board_init(), game_manager_create_game()
4. **Command Pattern**: Message types as commands
5. **State Machine**: Game states and transitions
6. **Lock-per-object**: Individual game locks for concurrency
7. **Error Code Pattern**: Consistent error handling
8. **Serialization Pattern**: Binary protocol with headers

---

**Legends:**
- `â”œâ”€â”€â–º` : Depends on / Uses
- `â—„â”€â”€â”€` : Returns / Provides
- `â”€â”¬â”€` : Branches / Multiple paths
- `â—„â–º` : Bidirectional communication
